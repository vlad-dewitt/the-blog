{"version":3,"sources":["utils/local_storage.js","api/user.js","api/feed.js","components/menu.js","pages/auth.js","pages/home.js","components/write_post.js","components/post.js","components/feed.js","components/write_comment.js","components/comment.js","pages/post.js","pages/feed.js","pages/profile.js","serviceWorker.js","index.js","app.js"],"names":["getFromStorage","key","a","localStorage","getItem","result","JSON","parse","setInStorage","value","setItem","stringify","removeFromStorage","removeItem","verify","Promise","resolve","reject","auth","userId","token","fetch","method","headers","body","response","json","data","ok","message","login","username","password","signUp","then","res","catch","err","getFeedLength","getPosts","index","url","getPost","id","feed_length","setFeedLength","activePage","useLocation","pathname","React","useEffect","updateFeedLength","Menu","fixed","borderless","style","padding","Item","src","alt","as","Link","to","name","active","Label","color","position","Button","primary","icon","labelPosition","Icon","onAuth","useState","valid","validate","length","form","setForm","loading","setLoading","show","error","setError","changeForm","e","target","replace","submit","type","updated_form","action","Grid","centered","container","columns","verticalAlign","minHeight","Column","width","Header","textAlign","Subheader","Segment","placeholder","margin","Form","Input","iconPosition","label","onChange","content","pointing","Message","header","maxWidth","Container","fluid","marginTop","Group","onClick","Or","secondary","List","href","rel","onPostCreated","history","useHistory","text","TextArea","push","post","Placeholder","image","Line","Feed","Event","author","profile","avatar","full_name","Content","Summary","Date","moment","date_created","format","Extra","comments","feed","setFeed","updateFeed","posts","loadMore","new_posts","map","num","path","render","size","post_id","onPostComment","commentPost","Comment","Avatar","Author","Metadata","Text","params","useParams","setPost","updatePost","useCallback","post_data","Paragraph","paddingTop","Image","Meta","Description","marginRight","minimal","dividing","comment","props","exact","component","Post","from","user","mode","setMode","changeMode","onLogout","circular","height","marginBottom","updateProfile","compact","Boolean","window","location","hostname","match","ReactDOM","isAuthenticated","setUser","auth_data","onMount","feedLengthProps","Dimmer","Loader","Home","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.61ad7044.chunk.js","sourcesContent":["export const getFromStorage = async (key) => {\n  const result = await localStorage.getItem(key);\n  return JSON.parse(result);\n}\n\nexport const setInStorage = async (key, value) => {\n  await localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport const removeFromStorage = async (key) => {\n  await localStorage.removeItem(key);\n}\n","import { getFromStorage, setInStorage, removeFromStorage } from '../utils/local_storage';\n\n\n\nexport const verify = function() {\n  return new Promise(async (resolve, reject) => {\n    const auth = await getFromStorage('auth');\n\n    if (!auth || !auth.userId || !auth.token) {\n      return resolve(null);\n    }\n\n    const response = await fetch('/api/auth/verify', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ userId: auth.userId, token: auth.token })\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    const { userId, token } = data;\n\n    await setInStorage('auth', { userId, token });\n\n    resolve(data);\n  })\n}\n\nexport const login = function(username, password) {\n  return new Promise(async (resolve, reject) => {\n    const response = await fetch('/api/auth/login', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, password })\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    const { userId, token } = data;\n\n    await setInStorage('auth', { userId, token });\n\n    resolve(data);\n  })\n}\n\nexport const signUp = function(username, password) {\n  return new Promise(async (resolve, reject) => {\n    const response = await fetch('/api/auth/sign-up', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, password })\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    login(username, password).then(res => {\n      resolve(res);\n    }).catch(err => {\n      reject(data.message || 'Something went wrong...')\n    })\n  })\n}\n\nexport const updateProfile = function(profile) {\n  return new Promise(async (resolve, reject) => {\n    const auth = await getFromStorage('auth');\n\n    if (!auth || !auth.userId || !auth.token) {\n      return resolve(null);\n    }\n\n    const response = await fetch('/api/auth/update-profile', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': auth.token\n      },\n      body: JSON.stringify({ userId: auth.userId, token: auth.token, profile })\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    resolve(data);\n  })\n}\n\nexport const logout = function() {\n  return new Promise(async (resolve, reject) => {\n    await removeFromStorage('auth');\n    resolve('success');\n  })\n}\n","import { getFromStorage } from '../utils/local_storage';\n\n\n\nexport const getFeedLength = function() {\n  return new Promise(async (resolve, reject) => {\n    const auth = await getFromStorage('auth');\n\n    if (!auth || !auth.userId || !auth.token) {\n      return resolve(null);\n    }\n\n    const response = await fetch('/api/feed/feed-length', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': auth.token\n      }\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    resolve(data);\n  })\n}\n\nexport const getPosts = function(index) {\n  return new Promise(async (resolve, reject) => {\n    const auth = await getFromStorage('auth');\n\n    if (!auth || !auth.userId || !auth.token) {\n      return resolve(null);\n    }\n\n    const url = index ? `/api/feed?index=${ index }` : '/api/feed'\n\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': auth.token\n      }\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    resolve(data);\n  })\n}\n\nexport const createPost = function(text) {\n  return new Promise(async (resolve, reject) => {\n    const auth = await getFromStorage('auth');\n\n    if (!auth || !auth.userId || !auth.token) {\n      return resolve(null);\n    }\n\n    const response = await fetch('/api/feed/create', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': auth.token\n      },\n      body: JSON.stringify({ text })\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    resolve(data);\n  })\n}\n\nexport const getPost = function(id) {\n  return new Promise(async (resolve, reject) => {\n    const auth = await getFromStorage('auth');\n\n    if (!auth || !auth.userId || !auth.token) {\n      return resolve(null);\n    }\n\n    const response = await fetch(`/api/feed/${ id }`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': auth.token\n      }\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    resolve(data);\n  })\n}\n\nexport const commentPost = function(post_id, text) {\n  return new Promise(async (resolve, reject) => {\n    const auth = await getFromStorage('auth');\n\n    if (!auth || !auth.userId || !auth.token) {\n      return resolve(null);\n    }\n\n    const response = await fetch('/api/feed/comment', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': auth.token\n      },\n      body: JSON.stringify({ post_id, text })\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      reject(data.message || 'Something went wrong...')\n    }\n\n    resolve(data);\n  })\n}\n","import React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { Menu, Label, Icon, Button } from 'semantic-ui-react';\n\nimport { getFeedLength } from '../api/feed';\n\n\n\nexport default function({ feed_length, setFeedLength }) {\n  const { pathname: activePage } = useLocation();\n\n\n\n  React.useEffect(() => {\n    const updateFeedLength = async () => {\n      const feed_length = await getFeedLength();\n      setFeedLength(feed_length)\n    }\n    updateFeedLength()\n  }, [setFeedLength]);\n\n\n\n  return (\n    <Menu fixed='top' borderless style={{ padding: '6px 10%' }}>\n      <Menu.Item>\n        <img src='/logo.png' alt=\"The Blog Logo\"/>\n      </Menu.Item>\n      <Menu.Item as={ Link } to='/' name='home' active={ activePage === '/' }/>\n      <Menu.Item as={ Link } to='/feed' name='feed' active={ activePage === '/feed' }>\n        Feed\n        <Label color='blue'>{ feed_length }</Label>\n      </Menu.Item>\n      <Menu.Menu position='right'>\n        {\n          activePage !== '/feed/create' ?\n            <Menu.Item>\n              <Button as={ Link } to='/feed/create' primary icon labelPosition='right'>\n                Write Post\n                <Icon name='write square'/>\n              </Button>\n            </Menu.Item>\n          : null\n        }\n        <Menu.Item as={ Link } to='/profile' name='profile' active={ activePage === '/profile' }>\n          <Icon name='user'/>\n          Profile\n        </Menu.Item>\n      </Menu.Menu>\n    </Menu>\n  )\n}\n","import React from 'react';\n\nimport { Grid, Container, Header, Icon, Segment, Form, Message, Button } from 'semantic-ui-react'\n\nimport { login, signUp } from '../api/user';\n\n\n\nexport default function({ onAuth }) {\n  const [form, setForm] = React.useState({\n    username: {\n      value: '',\n      valid: null,\n      validate: (value) => value.length >= 4\n    },\n    password:  {\n      value: '',\n      valid: null,\n      validate: (value) => value.length >= 6\n    }\n  });\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState({\n    show: false,\n    message: ''\n  });\n\n\n\n  const changeForm = e => {\n    setForm({\n      ...form,\n      [e.target.name]: {\n        ...form[e.target.name],\n        valid: null,\n        value: e.target.value.replace(/[^A-z0-9._-]/g, \"\")\n      }\n    })\n  }\n\n  const submit = (type) => {\n    let updated_form = { ...form };\n\n    for (let key in form) {\n      updated_form = {\n        ...updated_form,\n        [key]: {\n          ...updated_form[key],\n          valid: updated_form[key].validate(updated_form[key].value)\n        }\n      }\n    }\n\n    setForm(updated_form);\n\n    if (updated_form.username.valid && updated_form.password.valid) {\n      const action = type === 'login' ? login : signUp;\n      setLoading(true);\n      action(updated_form.username.value, updated_form.password.value).then(res => {\n        setError({ show: false, message: '' });\n        onAuth(res);\n      }).catch(err => {\n        setLoading(false);\n        setError({ show: true, message: err })\n      })\n    }\n  }\n\n\n\n  return (\n    <Grid centered container columns='12' verticalAlign='middle' style={{ minHeight: '90vh' }}>\n      <Grid.Column width='6'>\n        <Header as='h2' icon textAlign='center'>\n          <Icon name='user outline'/>\n          Authentication Page\n          <Header.Subheader>\n            Please login or sign up to continue.\n          </Header.Subheader>\n        </Header>\n        <Segment placeholder style={{ margin: '3em 0', padding: '0' }} >\n          <Form error={ error.show } loading={ loading } style={{ padding: '5em 0' }}>\n            <Form.Input\n              icon='user'\n              iconPosition='left'\n              name='username'\n              label='Username'\n              placeholder='Username'\n              value={ form.username.value }\n              onChange={ changeForm }\n              error={ form.username.valid === false ? {\n                content: \"Username should contains minimum 4 symbols\",\n                pointing: 'above'\n              } : false }\n            />\n            <Form.Input\n              icon='lock'\n              iconPosition='left'\n              name='password'\n              label='Password'\n              type='password'\n              value={ form.password.value }\n              onChange={ changeForm }\n              error={ form.password.valid === false ? {\n                content: \"Password should contains minimum 6 symbols\",\n                pointing: 'above'\n              } : false }\n            />\n            <Message\n              error\n              header='Error'\n              content={ error.message }\n              style={{ maxWidth: '15rem', margin: '0 auto' }}\n            />\n            <Container fluid textAlign='center' style={{ marginTop: '2em' }}>\n              <Button.Group>\n                <Button content='Login' primary onClick={ () => submit('login') }/>\n                <Button.Or/>\n                <Button content='Sign up' secondary onClick={ () => submit('sign_up') }/>\n              </Button.Group>\n            </Container>\n          </Form>\n        </Segment>\n      </Grid.Column>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { Grid, Header, Icon, Segment, List, Label } from 'semantic-ui-react';\n\n\n\nexport default function() {\n  return (\n    <Grid centered container columns='12' style={{ minHeight: '80vh' }}>\n      <Grid.Column width='6' verticalAlign='middle'>\n        <Segment placeholder style={{ padding: '1em 0 2em' }}>\n          <Header as='h3' icon textAlign='center' style={{ margin: '1em 0' }}>\n            <Icon name='home'/>\n            Welcome to The Blog!\n            <Header.Subheader>\n              This application is developed as a test task.<br/>What features does this app have:\n            </Header.Subheader>\n          </Header>\n          <List>\n            <List.Item content='Sign up/Login, edit Profile'/>\n            <List.Item content='Create posts in a shared feed'/>\n            <List.Item content='View posts feed'/>\n            <List.Item content='Comment posts'/>\n          </List>\n          <List>\n            <Label>\n              <Icon name='bitbucket'/>\n              <a href='https://bitbucket.org/vlad-dewitt/the-blog' target='_blank' rel='noopener noreferrer'>Source Code</a>\n            </Label>\n            <Label>\n              <Icon name='mail'/>\n              <a href='mailto:dewitt.official@gmail.com'>dewitt.official@gmail.com</a>\n            </Label>\n          </List>\n        </Segment>\n      </Grid.Column>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Container, Form, Message, Button, Icon } from 'semantic-ui-react';\n\nimport { createPost } from '../api/feed';\n\n\n\nexport default function({ onPostCreated }) {\n  const history = useHistory();\n  const [form, setForm] = React.useState({\n    text: {\n      value: '',\n      valid: null,\n      validate: (value) => value.length >= 20\n    }\n  });\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState({\n    show: false,\n    message: ''\n  });\n\n\n\n  const changeForm = e => {\n    setForm({\n      ...form,\n      [e.target.name]: {\n        ...form[e.target.name],\n        valid: null,\n        value: e.target.value\n      }\n    })\n  }\n\n  const submit = () => {\n    let updated_form = { ...form };\n\n    for (let key in form) {\n      updated_form = {\n        ...updated_form,\n        [key]: {\n          ...updated_form[key],\n          valid: updated_form[key].validate(updated_form[key].value)\n        }\n      }\n    }\n\n    setForm(updated_form);\n\n    if (updated_form.text.valid) {\n      setLoading(true);\n      createPost(updated_form.text.value).then(res => {\n        setError({ show: false, message: '' });\n        onPostCreated();\n        history.push('/feed');\n      }).catch(err => {\n        setLoading(false);\n        setError({ show: true, message: err })\n      })\n    }\n  }\n\n\n\n  return (\n    <Container textAlign='left'>\n      <Form error={ error.show } loading={ loading } style={{ padding: '5em 0 2em' }}>\n        <Form.TextArea\n          name='text'\n          label='Post text'\n          placeholder='Write something here...'\n          value={ form.text.value }\n          onChange={ changeForm }\n          error={ form.text.valid === false ? {\n            content: \"Post should contains minimum 20 symbols\",\n            pointing: 'above'\n          } : false }\n        />\n        <Message error header='Error' content={ error.message }/>\n        <Container fluid textAlign='right' style={{ marginTop: '2em' }}>\n          <Button primary icon labelPosition='left' onClick={ submit }>\n            <Icon name='share square'/>\n            Post it\n          </Button>\n          <Button as={ Link } to='/feed'>\n            Cancel\n          </Button>\n        </Container>\n      </Form>\n    </Container>\n  )\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { Feed, Placeholder, Icon, Label } from 'semantic-ui-react';\n\n\n\nexport default function({ post, placeholder }) {\n  if (placeholder) {\n    return (\n      <Placeholder fluid style={{ margin: '4em 0' }}>\n        <Placeholder.Header image>\n          <Placeholder.Line/>\n          <Placeholder.Line length='full'/>\n        </Placeholder.Header>\n      </Placeholder>\n    )\n  }\n\n  return (\n    <Feed.Event style={{ margin: '2em 0' }}>\n      <Feed.Label>\n        <img src={ post.author.profile.avatar } alt={ post.author.profile.full_name || post.author.username }/>\n      </Feed.Label>\n      <Feed.Content>\n        <Feed.Summary>\n          { post.author.profile.full_name || post.author.username }\n          <Feed.Date>{ moment(post.date_created).format('MMM Do YYYY, h:mm a') }</Feed.Date>\n        </Feed.Summary>\n        <Feed.Extra as={ Link } to={ `/feed/${ post.id }` } text>\n          <p style={{ margin: '.5em 0' }}>{ post.text }</p>\n        </Feed.Extra>\n        <Label>\n          <Icon name='comment'/>\n          { post.comments }\n        </Label>\n      </Feed.Content>\n    </Feed.Event>\n  )\n}\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { Grid, Feed, Segment, Header, Icon, Button } from 'semantic-ui-react';\n\nimport WritePost from '../components/write_post';\nimport Post from '../components/post';\n\nimport { getFeedLength, getPosts } from '../api/feed';\n\n\n\nexport default function({ feed_length, setFeedLength }) {\n  const [loading, setLoading] = React.useState(true);\n  const [feed, setFeed] = React.useState([]);\n\n\n\n  React.useEffect(() => {\n    updateFeed()\n  }, []);\n\n  React.useEffect(() => {\n    const updateFeedLength = async () => {\n      const feed_length = await getFeedLength();\n      setFeedLength(feed_length)\n    }\n    updateFeedLength()\n  }, [feed, setFeedLength]);\n\n\n\n  const updateFeed = async () => {\n    const posts = await getPosts();\n    setFeed(posts);\n    setLoading(false);\n  }\n\n  const loadMore = async () => {\n    const new_posts = await getPosts(feed.length);\n    setFeed([\n      ...feed,\n      ...new_posts\n    ])\n  }\n\n\n\n  return (\n    <Grid centered container columns='12' style={{ minHeight: '80vh' }}>\n      <Grid.Column width='8' verticalAlign='middle'>\n        {\n          loading ?\n            [1, 2, 3, 4, 5].map((num) => {\n              return (\n                <Post key={ num } placeholder/>\n              )\n            })\n          :\n            <>\n              <Route path='/feed/create' render={ () => <WritePost onPostCreated={ updateFeed }/> }/>\n              {\n                feed.length === 0 ?\n                  <Segment placeholder>\n                    <Header as='h3' icon textAlign='center' style={{ margin: '1em 0' }}>\n                      <Icon name='circle outline'/>\n                      No posts found yet.\n                    </Header>\n                  </Segment>\n                :\n                  <Feed size='large'>\n                    {\n                      feed.map((post, num) => {\n                        return (\n                          <Post key={ post.id + num } post={ post }/>\n                        )\n                      })\n                    }\n                    {\n                      feed_length > feed.length ?\n                        <Button primary icon labelPosition='left' onClick={ loadMore }>\n                          <Icon name='sort'/>\n                          Show more\n                        </Button>\n                      : null\n                    }\n                  </Feed>\n              }\n            </>\n        }\n      </Grid.Column>\n    </Grid>\n  )\n}\n","import React from 'react';\nimport { Container, Form, Message, Button, Icon } from 'semantic-ui-react';\n\nimport { commentPost } from '../api/feed';\n\n\n\nexport default function({ post_id, onPostComment }) {\n  const [form, setForm] = React.useState({\n    text: {\n      value: '',\n      valid: null,\n      validate: (value) => value.length >= 2\n    }\n  });\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState({\n    show: false,\n    message: ''\n  });\n\n\n\n  const changeForm = e => {\n    setForm({\n      ...form,\n      [e.target.name]: {\n        ...form[e.target.name],\n        valid: null,\n        value: e.target.value\n      }\n    })\n  }\n\n  const submit = () => {\n    let updated_form = { ...form };\n\n    for (let key in form) {\n      updated_form = {\n        ...updated_form,\n        [key]: {\n          ...updated_form[key],\n          valid: updated_form[key].validate(updated_form[key].value)\n        }\n      }\n    }\n\n    setForm(updated_form);\n\n    if (updated_form.text.valid) {\n      setLoading(true);\n      commentPost(post_id, updated_form.text.value).then(res => {\n        setError({ show: false, message: '' });\n        onPostComment();\n        setForm({\n          text: {\n            value: '',\n            valid: null,\n            validate: (value) => value.length >= 2\n          }\n        })\n        setLoading(false);\n      }).catch(err => {\n        setLoading(false);\n        setError({ show: true, message: err })\n      })\n    }\n  }\n\n\n\n  return (\n    <Form error={ error.show } loading={ loading } style={{ marginTop: '2em' }}>\n      <Form.TextArea\n        name='text'\n        placeholder='Write your comment...'\n        value={ form.text.value }\n        onChange={ changeForm }\n        error={ form.text.valid === false ? {\n          content: \"Comment should contains minimum 2 symbols\",\n          pointing: 'above'\n        } : false }\n      />\n      <Message error header='Error' content={ error.message }/>\n      <Container fluid textAlign='right'>\n        <Button primary icon labelPosition='left' onClick={ submit }>\n          Post comment\n          <Icon name='edit'/>\n        </Button>\n      </Container>\n    </Form>\n  )\n}\n","import React from 'react';\nimport moment from 'moment';\nimport { Comment } from 'semantic-ui-react';\n\n\n\nexport default function({ data }) {\n  return (\n    <Comment style={{ margin: '1em 0' }}>\n      <Comment.Avatar as='a' src={ data.author.profile.avatar }/>\n      <Comment.Content>\n        <Comment.Author as='a'>\n          { data.author.profile.full_name || data.author.username }\n        </Comment.Author>\n        <Comment.Metadata>\n          <span>{ moment(data.date_created).format('MMM Do YYYY, h:mm a') }</span>\n        </Comment.Metadata>\n        <Comment.Text>{ data.text }</Comment.Text>\n      </Comment.Content>\n    </Comment>\n  )\n}\n","import React from 'react';\nimport moment from 'moment';\nimport { useParams } from 'react-router-dom';\nimport { Grid, Item, Icon, Label, Container, Comment as SComment, Header, Placeholder } from 'semantic-ui-react';\n\nimport WriteComment from '../components/write_comment';\nimport Comment from '../components/comment';\n\nimport { getPost } from '../api/feed';\n\n\n\nexport default function() {\n  const params = useParams();\n  const [loading, setLoading] = React.useState(true);\n  const [post, setPost] = React.useState({});\n\n\n\n  const updatePost = React.useCallback(async () => {\n    const post_data = await getPost(params.id);\n    setPost(post_data);\n    setLoading(false);\n  }, [params.id])\n\n\n\n  React.useEffect(() => {\n    updatePost()\n  }, [updatePost])\n\n\n\n  return (\n    loading ?\n      <Grid centered container columns='12' style={{ minHeight: '80vh' }}>\n        <Grid.Column width='8' verticalAlign='middle'>\n          <Placeholder fluid>\n            <Placeholder.Header image>\n              <Placeholder.Line />\n              <Placeholder.Line />\n            </Placeholder.Header>\n            <Placeholder.Paragraph>\n              <Placeholder.Line/>\n              <Placeholder.Line/>\n              <Placeholder.Line/>\n              <Placeholder.Line/>\n              <Placeholder.Line/>\n              <Placeholder.Line/>\n              <Placeholder.Line length='short'/>\n            </Placeholder.Paragraph>\n          </Placeholder>\n        </Grid.Column>\n      </Grid>\n    :\n      <Grid centered container columns='12' style={{ minHeight: '80vh', paddingTop: '20vh' }}>\n        <Grid.Column width='8' verticalAlign='middle'>\n          <Item.Group>\n            <Item>\n              <Item.Image size='small' src={ post.author.profile.avatar } alt={ post.author.profile.full_name || post.author.username }/>\n              <Item.Content style={{ marginTop: '2em', textAlign: 'left' }}>\n                <Item.Header>{ post.author.profile.full_name || post.author.username }</Item.Header>\n                <Item.Meta>\n                  { moment(post.date_created).format('MMM Do YYYY, h:mm a') }\n                </Item.Meta>\n                <Item.Description style={{ margin: '1em 0' }}>\n                  <p>{ post.text }</p>\n                </Item.Description>\n                <Label style={{ marginRight: '.5em' }}>\n                  <Icon name='comment'/>\n                  { post.comments.length }\n                </Label>\n              </Item.Content>\n            </Item>\n          </Item.Group>\n          <Container textAlign='left' style={{ margin: '10em 0 6em' }}>\n            <SComment.Group minimal>\n              <Header as='h3' dividing>Comments</Header>\n              {\n                post.comments.length === 0 ?\n                  <p>No comments yet</p>\n                :\n                  post.comments.map((comment, num) => {\n                    return (\n                      <Comment key={ num } data={ comment }/>\n                    )\n                  })\n              }\n              <WriteComment post_id={ post.id } onPostComment={ updatePost }/>\n            </SComment.Group>\n          </Container>\n        </Grid.Column>\n      </Grid>\n  );\n}\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport Feed from '../components/feed';\nimport Post from './post';\n\n\n\nexport default function(props) {\n  return (\n    <Switch>\n      <Route exact path={ ['/feed', '/feed/create'] } render={ () => <Feed { ...props }/> }/>\n      <Route path='/feed/:id' component={ Post }/>\n      <Redirect from='*' to='/feed'/>\n    </Switch>\n  );\n}\n","import React from 'react';\nimport { Grid, Header, Icon, Image, Segment, Form, Container, Button, Message } from 'semantic-ui-react';\n\nimport { updateProfile, logout } from '../api/user';\n\n\n\nexport default function({ user, onAuth }) {\n  const [mode, setMode] = React.useState('view');\n  const [form, setForm] = React.useState({\n    full_name: {\n      value: user.profile.full_name || '',\n      valid: null,\n      validate: (value) => value.length >= 2\n    }\n  });\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState({\n    show: false,\n    message: ''\n  });\n\n\n\n  const changeMode = (mode) => {\n    setForm({\n      full_name: { ...form.full_name, value: user.profile.full_name || '' }\n    })\n    setMode(mode);\n  }\n\n  const changeForm = e => {\n    setForm({\n      ...form,\n      [e.target.name]: {\n        ...form[e.target.name],\n        valid: null,\n        value: e.target.value\n      }\n    })\n  }\n\n  const onUpdateProfile = () => {\n    let updated_form = { ...form };\n\n    for (let key in form) {\n      updated_form = {\n        ...updated_form,\n        [key]: {\n          ...updated_form[key],\n          valid: updated_form[key].validate(updated_form[key].value)\n        }\n      }\n    }\n\n    setForm(updated_form);\n\n    if (updated_form.full_name.valid) {\n      setLoading(true);\n      const profile = {\n        full_name: updated_form.full_name.value\n      }\n      updateProfile(profile).then(res => {\n        setLoading(false);\n        setError({ show: false, message: '' });\n        onAuth(res);\n        changeMode('view');\n      }).catch(err => {\n        setLoading(false);\n        setError({ show: true, message: err })\n      })\n    }\n  }\n\n  const onLogout = async () => {\n    await logout();\n    onAuth(null);\n  }\n\n\n\n  return (\n    <Grid centered container columns='12' style={{ minHeight: '80vh' }}>\n      <Grid.Column width='6' verticalAlign='middle'>\n        <Segment placeholder>\n          <Header as='h3' icon textAlign='center' style={{ margin: '1em 0' }}>\n            <Icon as={ Image } size='mini' circular src={ user.profile.avatar } style={{ width: 86, height: 86 }}/>\n            { user.profile.full_name ? user.profile.full_name : user.username }\n          </Header>\n          <Form error={ error.show } loading={ loading } style={{ padding: '1em 0' }}>\n            {\n              mode === 'edit' ?\n                <Container textAlign='left' style={{ marginBottom: '1em' }}>\n                  <Form.Input\n                    icon='user circle'\n                    iconPosition='left'\n                    name='full_name'\n                    label='Full name'\n                    placeholder='Your full name'\n                    value={ form.full_name.value }\n                    onChange={ changeForm }\n                    error={ form.full_name.valid === false ? {\n                      content: \"Full name should contains minimum 2 symbols\",\n                      pointing: 'above'\n                    } : false }\n                  />\n                  <Message\n                    error\n                    header='Error'\n                    content={ error.message }\n                    style={{ maxWidth: '15rem', margin: '0 auto' }}\n                  />\n                </Container>\n              : null\n            }\n            {\n              mode === 'view' ?\n                <Button icon labelPosition='left' onClick={ () => changeMode('edit') }>\n                  <Icon name='edit outline'/>\n                  Update profile\n                </Button>\n              :\n                <Container fluid textAlign='center' style={{ margin: '1em 0' }}>\n                  <Button.Group>\n                    <Button content='Save' primary onClick={ onUpdateProfile }/>\n                    <Button.Or/>\n                    <Button content='Cancel' secondary onClick={ () => changeMode('view') }/>\n                  </Button.Group>\n                </Container>\n            }\n            <Button size='small' compact icon labelPosition='right' onClick={ onLogout } style={{ marginTop: '3em' }}>\n              <Icon name='log out'/>\n              log out\n            </Button>\n          </Form>\n        </Segment>\n      </Grid.Column>\n    </Grid>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(\n  <Router>\n    <App/>\n  </Router>\n, document.getElementById('root'));\n\n\n\nserviceWorker.unregister();\n","import React, { useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { Container, Dimmer, Loader } from 'semantic-ui-react';\n\nimport { verify } from './api/user';\n\nimport Menu from './components/menu';\nimport Auth from './pages/auth';\nimport Home from './pages/home';\nimport Feed from './pages/feed';\nimport Profile from './pages/profile';\n\n\n\nexport default function App() {\n  const [user, setUser] = React.useState({\n    isAuthenticated: false,\n    userId: '',\n    username: '',\n    profile: {},\n    token: ''\n  });\n  const [loading, setLoading] = React.useState(true);\n  const [feed_length, setFeedLength] = React.useState('...');\n\n\n\n  useEffect(() => {\n    async function onMount() {\n      const auth_data = await verify();\n      if (auth_data) {\n        auth(auth_data);\n      }\n      setLoading(false);\n    }\n    onMount()\n  }, [])\n\n  const auth = (data) => {\n    if (data !== null) {\n      setUser({\n        isAuthenticated: true,\n        ...data\n      })\n    } else {\n      setUser({\n        isAuthenticated: false,\n        userId: '',\n        token: ''\n      })\n    }\n  }\n\n  const feedLengthProps = {\n    feed_length: feed_length,\n    setFeedLength: (length) => setFeedLength(length)\n  }\n\n\n\n  return (\n    loading ?\n      <Dimmer active>\n        <Loader/>\n      </Dimmer>\n    :\n      user.isAuthenticated ?\n        <Container style={{ padding: '64px 0' }}>\n          <Menu { ...feedLengthProps }/>\n          <Switch>\n            <Route exact path='/' component={ Home }/>\n            <Route path='/feed' render={ () => <Feed { ...feedLengthProps }/> }/>\n            <Route path='/profile' render={ () => <Profile user={ user } onAuth={ auth }/> }/>\n            <Redirect from='*' to='/'/>\n          </Switch>\n        </Container>\n      :\n        <Switch>\n          <Route exact path='/login' render={ () => <Auth onAuth={ auth }/> }/>\n          <Redirect from='*' to='/login'/>\n        </Switch>\n  );\n}\n"],"sourceRoot":""}